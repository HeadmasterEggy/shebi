<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>系统设置 - 情感分析系统</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/profile.css">
</head>
<body>
<!-- 顶部导航栏 -->
<nav class="navbar navbar-expand-lg navbar-dark top-navbar">
    <div class="container-fluid">
        <a class="navbar-brand" href="/">
            <i class="bi bi-graph-up"></i> 情感分析系统
        </a>

        <div class="navbar-text system-title d-none d-md-block">
            智能文本情感分析平台
        </div>

        <!-- 用户信息和操作 -->
        <div class="ms-auto user-navbar-panel">
            <div class="dropdown">
                <button class="btn btn-outline-light dropdown-toggle user-dropdown" type="button" id="userDropdown"
                        data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="bi bi-person-circle"></i>
                    <span id="navbarUsername">加载中...</span>
                    <span id="navbarUserRole" class="badge bg-primary ms-1">用户</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                    <li><a class="dropdown-item" href="/profile" id="navbarProfile"><i class="bi bi-person"></i> 个人资料</a>
                    </li>
                    <li><a class="dropdown-item" href="/settings" id="navbarSettings"><i class="bi bi-gear"></i>
                        设置</a></li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <li><a class="dropdown-item" href="#" id="navbarLogoutBtn"><i class="bi bi-box-arrow-right"></i> 注销</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</nav>

<div class="settings-container">
    <div class="container py-5">
        <div class="page-header mb-4">
            <h2 class="page-title"><i class="bi bi-gear me-2"></i>系统设置</h2>
            <p class="text-muted">自定义您的使用体验和应用程序配置</p>
        </div>
        
        <div class="row g-4">
            <!-- 左侧导航栏 -->
            <div class="col-lg-3">
                <div class="card settings-nav-card mb-4 shadow-sm">
                    <div class="card-header d-flex align-items-center">
                        <i class="bi bi-list-ul text-primary me-2"></i>
                        <h5 class="mb-0">设置选项</h5>
                    </div>
                    <div class="list-group list-group-flush settings-tabs">
                        <a href="#general" class="list-group-item list-group-item-action active" data-bs-toggle="list">
                            <i class="bi bi-gear me-2"></i> 常规设置
                            <span class="settings-nav-icon"><i class="bi bi-chevron-right"></i></span>
                        </a>
                        <a href="#appearance" class="list-group-item list-group-item-action" data-bs-toggle="list">
                            <i class="bi bi-palette me-2"></i> 界面外观
                            <span class="settings-nav-icon"><i class="bi bi-chevron-right"></i></span>
                        </a>
                        <a href="#notifications" class="list-group-item list-group-item-action" data-bs-toggle="list">
                            <i class="bi bi-bell me-2"></i> 通知设置
                            <span class="settings-nav-icon"><i class="bi bi-chevron-right"></i></span>
                        </a>
                        <a href="#advanced" class="list-group-item list-group-item-action" data-bs-toggle="list">
                            <i class="bi bi-sliders me-2"></i> 高级选项
                            <span class="settings-nav-icon"><i class="bi bi-chevron-right"></i></span>
                        </a>
                    </div>
                </div>

                <div class="action-buttons mb-4">
                    <button type="button" class="btn btn-outline-primary btn-nav mb-2 w-100" id="saveAllSettings">
                        <i class="bi bi-save me-2"></i> 保存所有设置
                    </button>
                    <button type="button" class="btn btn-outline-secondary btn-nav w-100" onclick="window.location.href='/'">
                        <i class="bi bi-arrow-left me-2"></i> 返回首页
                    </button>
                </div>
                
                <div class="settings-info-card">
                    <div class="info-icon">
                        <i class="bi bi-info-circle"></i>
                    </div>
                    <h6>设置说明</h6>
                    <p class="small">您的设置会自动保存到账户中，并在您登录时应用。</p>
                    <p class="small mb-0">某些设置可能需要刷新页面才能生效。</p>
                </div>
            </div>
            
            <!-- 右侧设置内容 -->
            <div class="col-lg-9">
                <div class="tab-content">
                    <!-- 常规设置 -->
                    <div class="tab-pane fade show active" id="general">
                        <div class="card mb-4 shadow-sm settings-content-card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <div class="d-flex align-items-center">
                                    <span class="settings-icon-bubble bg-primary text-white">
                                        <i class="bi bi-gear"></i>
                                    </span>
                                    <h5 class="mb-0 ms-2">常规设置</h5>
                                </div>
                                <span class="settings-status-badge" id="generalSettingsStatus">
                                    <i class="bi bi-check-circle-fill text-success"></i> 已保存
                                </span>
                            </div>
                            <div class="card-body">
                                <form id="generalSettingsForm">
                                    <div class="settings-section mb-4">
                                        <div class="section-title">
                                            <i class="bi bi-globe me-2"></i>语言与地区
                                        </div>
                                        <div class="section-content">
                                            <div class="setting-item">
                                                <label class="form-label d-block">系统语言</label>
                                                <div class="setting-control">
                                                    <select class="form-select enhanced-select" id="languageSelect">
                                                        <option value="zh_CN" selected>简体中文</option>
                                                        <option value="en_US">English (US)</option>
                                                        <option value="ja_JP">日本語</option>
                                                    </select>
                                                    <div class="setting-hint">选择界面显示语言</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="settings-section mb-4">
                                        <div class="section-title">
                                            <i class="bi bi-cpu me-2"></i>模型与分析
                                        </div>
                                        <div class="section-content">
                                            <div class="setting-item">
                                                <label class="form-label d-block">默认分析模型</label>
                                                <div class="setting-control">
                                                    <div class="model-selector">
                                                        <div class="form-check model-option">
                                                            <input class="form-check-input" type="radio" name="defaultModel" id="modelCNN" value="cnn" checked>
                                                            <label class="form-check-label" for="modelCNN">
                                                                <div class="model-icon"><i class="bi bi-diagram-3"></i></div>
                                                                <span class="model-name">TextCNN</span>
                                                                <span class="model-badge">推荐</span>
                                                            </label>
                                                        </div>
                                                        <div class="form-check model-option">
                                                            <input class="form-check-input" type="radio" name="defaultModel" id="modelLSTM" value="lstm">
                                                            <label class="form-check-label" for="modelLSTM">
                                                                <div class="model-icon"><i class="bi bi-arrow-left-right"></i></div>
                                                                <span class="model-name">LSTM</span>
                                                            </label>
                                                        </div>
                                                        <div class="form-check model-option">
                                                            <input class="form-check-input" type="radio" name="defaultModel" id="modelLSTMAttn" value="lstm_attention">
                                                            <label class="form-check-label" for="modelLSTMAttn">
                                                                <div class="model-icon"><i class="bi bi-lightbulb"></i></div>
                                                                <span class="model-name">LSTM+注意力</span>
                                                            </label>
                                                        </div>
                                                        <div class="form-check model-option">
                                                            <input class="form-check-input" type="radio" name="defaultModel" id="modelBiLSTM" value="bilstm">
                                                            <label class="form-check-label" for="modelBiLSTM">
                                                                <div class="model-icon"><i class="bi bi-arrows-expand"></i></div>
                                                                <span class="model-name">Bi-LSTM</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="setting-hint">选择默认的情感分析模型</div>
                                                </div>
                                                <select class="form-select d-none" id="defaultModelSelect">
                                                    <option value="cnn" selected>TextCNN模型</option>
                                                    <option value="lstm">LSTM模型</option>
                                                    <option value="lstm_attention">LSTM注意力模型</option>
                                                    <option value="bilstm">Bi-LSTM模型</option>
                                                    <option value="bilstm_attention">Bi-LSTM注意力模型</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="settings-section mb-4">
                                        <div class="section-title">
                                            <i class="bi bi-toggles me-2"></i>行为选项
                                        </div>
                                        <div class="section-content">
                                            <div class="setting-item switch-option">
                                                <div class="option-description">
                                                    <label class="setting-label" for="autoSaveSwitch">
                                                        自动保存分析结果
                                                    </label>
                                                    <div class="setting-hint">分析完成后自动保存结果到历史记录</div>
                                                </div>
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="autoSaveSwitch" checked>
                                                </div>
                                            </div>

                                            <div class="setting-item switch-option">
                                                <div class="option-description">
                                                    <label class="setting-label" for="confirmExitSwitch">
                                                        离开前确认
                                                    </label>
                                                    <div class="setting-hint">有未保存的更改时提示确认</div>
                                                </div>
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="confirmExitSwitch" checked>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="generalSettingsMessage" class="alert d-none" role="alert"></div>
                                    <div class="settings-form-actions">
                                        <button type="submit" class="btn btn-primary btn-save">
                                            <span class="btn-text"><i class="bi bi-save me-2"></i>保存设置</span>
                                            <span class="btn-spinner d-none">
                                                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                保存中...
                                            </span>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- 界面外观 -->
                    <div class="tab-pane fade" id="appearance">
                        <div class="card mb-4 shadow-sm settings-content-card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <div class="d-flex align-items-center">
                                    <span class="settings-icon-bubble bg-info text-white">
                                        <i class="bi bi-palette"></i>
                                    </span>
                                    <h5 class="mb-0 ms-2">界面外观</h5>
                                </div>
                                <span class="settings-status-badge" id="appearanceSettingsStatus">
                                    <i class="bi bi-check-circle-fill text-success"></i> 已保存
                                </span>
                            </div>
                            <div class="card-body">
                                <form id="appearanceSettingsForm">
                                    <div class="settings-section mb-4">
                                        <div class="section-title">
                                            <i class="bi bi-circle-half me-2"></i>主题设置
                                        </div>
                                        <div class="section-content">
                                            <div class="setting-item">
                                                <label class="form-label">主题模式</label>
                                                <div class="setting-control">
                                                    <div class="theme-selector">
                                                        <div class="form-check theme-option">
                                                            <input class="form-check-input" type="radio" name="theme" id="lightTheme" value="light" checked>
                                                            <label class="form-check-label" for="lightTheme">
                                                                <div class="theme-preview light-theme">
                                                                    <div class="theme-header"></div>
                                                                    <div class="theme-content"></div>
                                                                </div>
                                                                <span class="theme-name">浅色</span>
                                                            </label>
                                                        </div>
                                                        <div class="form-check theme-option">
                                                            <input class="form-check-input" type="radio" name="theme" id="darkTheme" value="dark">
                                                            <label class="form-check-label" for="darkTheme">
                                                                <div class="theme-preview dark-theme">
                                                                    <div class="theme-header"></div>
                                                                    <div class="theme-content"></div>
                                                                </div>
                                                                <span class="theme-name">深色</span>
                                                            </label>
                                                        </div>
                                                        <div class="form-check theme-option">
                                                            <input class="form-check-input" type="radio" name="theme" id="autoTheme" value="auto">
                                                            <label class="form-check-label" for="autoTheme">
                                                                <div class="theme-preview auto-theme">
                                                                    <div class="theme-half light"></div>
                                                                    <div class="theme-half dark"></div>
                                                                </div>
                                                                <span class="theme-name">自动切换</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="settings-section mb-4">
                                        <div class="section-title">
                                            <i class="bi bi-type me-2"></i>文字和排版
                                        </div>
                                        <div class="section-content">
                                            <div class="setting-item">
                                                <label class="form-label">字体大小</label>
                                                <div class="setting-control">
                                                    <div class="font-size-slider">
                                                        <div class="range-slider">
                                                            <input type="range" class="form-range custom-range" min="12" max="20" step="1" id="fontSizeRange" value="14">
                                                            <div class="range-labels">
                                                                <span>小</span>
                                                                <span>中</span>
                                                                <span>大</span>
                                                            </div>
                                                        </div>
                                                        <div class="font-size-preview">
                                                            <span class="font-size-value" id="fontSizeValue">14px</span>
                                                            <span class="font-size-sample">Aa</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="settings-section mb-4">
                                        <div class="section-title">
                                            <i class="bi bi-layout-sidebar me-2"></i>布局设置
                                        </div>
                                        <div class="section-content">
                                            <div class="setting-item">
                                                <label class="form-label">侧边栏位置</label>
                                                <div class="setting-control">
                                                    <div class="layout-selector">
                                                        <div class="form-check layout-option">
                                                            <input class="form-check-input" type="radio" name="sidebarPosition" id="leftSidebar" value="left" checked>
                                                            <label class="form-check-label" for="leftSidebar">
                                                                <div class="layout-preview left-sidebar">
                                                                    <div class="sidebar-preview"></div>
                                                                    <div class="content-preview"></div>
                                                                </div>
                                                                <span>左侧</span>
                                                            </label>
                                                        </div>
                                                        <div class="form-check layout-option">
                                                            <input class="form-check-input" type="radio" name="sidebarPosition" id="rightSidebar" value="right">
                                                            <label class="form-check-label" for="rightSidebar">
                                                                <div class="layout-preview right-sidebar">
                                                                    <div class="content-preview"></div>
                                                                    <div class="sidebar-preview"></div>
                                                                </div>
                                                                <span>右侧</span>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="appearanceSettingsMessage" class="alert d-none" role="alert"></div>
                                    <div class="settings-form-actions">
                                        <button type="button" class="btn btn-outline-secondary me-2" id="previewThemeBtn">
                                            <i class="bi bi-eye me-2"></i>预览效果
                                        </button>
                                        <button type="submit" class="btn btn-primary btn-save">
                                            <span class="btn-text"><i class="bi bi-save me-2"></i>保存设置</span>
                                            <span class="btn-spinner d-none">
                                                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                保存中...
                                            </span>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- 通知设置 -->
                    <div class="tab-pane fade" id="notifications">
                        <div class="card mb-4 shadow-sm settings-content-card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <div class="d-flex align-items-center">
                                    <span class="settings-icon-bubble bg-warning text-white">
                                        <i class="bi bi-bell"></i>
                                    </span>
                                    <h5 class="mb-0 ms-2">通知设置</h5>
                                </div>
                                <span class="settings-status-badge" id="notificationSettingsStatus">
                                    <i class="bi bi-check-circle-fill text-success"></i> 已保存
                                </span>
                            </div>
                            <div class="card-body">
                                <form id="notificationSettingsForm">
                                    <div class="settings-section mb-4">
                                        <div class="main-switch setting-item switch-option">
                                            <div class="option-description">
                                                <label class="setting-label" for="enableNotifications">
                                                    <i class="bi bi-bell-fill text-warning me-2"></i>启用通知
                                                </label>
                                                <div class="setting-hint">控制是否接收系统通知</div>
                                            </div>
                                            <div class="form-check form-switch">
                                                <input class="form-check-input main-toggle" type="checkbox" id="enableNotifications" checked>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="notification-options">
                                        <div class="settings-section mb-4">
                                            <div class="section-title">
                                                <i class="bi bi-bell-fill me-2"></i>通知类型
                                            </div>
                                            <div class="section-content">
                                                <div class="setting-item switch-option">
                                                    <div class="option-description">
                                                        <label class="setting-label" for="analysisComplete">
                                                            分析完成通知
                                                        </label>
                                                        <div class="setting-hint">分析任务完成后显示通知</div>
                                                    </div>
                                                    <div class="form-check form-switch">
                                                        <input class="form-check-input" type="checkbox" id="analysisComplete" checked>
                                                    </div>
                                                </div>

                                                <div class="setting-item switch-option">
                                                    <div class="option-description">
                                                        <label class="setting-label" for="systemUpdates">
                                                            系统更新通知
                                                        </label>
                                                        <div class="setting-hint">系统更新和维护信息</div>
                                                    </div>
                                                    <div class="form-check form-switch">
                                                        <input class="form-check-input" type="checkbox" id="systemUpdates" checked>
                                                    </div>
                                                </div>

                                                <div class="setting-item switch-option">
                                                    <div class="option-description">
                                                        <label class="setting-label" for="adminNotifications">
                                                            管理员通知
                                                        </label>
                                                        <div class="setting-hint">来自系统管理员的重要通知</div>
                                                    </div>
                                                    <div class="form-check form-switch">
                                                        <input class="form-check-input" type="checkbox" id="adminNotifications">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="settings-section mb-4">
                                            <div class="section-title">
                                                <i class="bi bi-envelope me-2"></i>通知方式
                                            </div>
                                            <div class="section-content">
                                                <div class="notification-methods">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="browserNotifications" checked>
                                                        <label class="form-check-label" for="browserNotifications">
                                                            浏览器通知
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="inAppNotifications" checked>
                                                        <label class="form-check-label" for="inAppNotifications">
                                                            应用内通知
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="emailNotifications">
                                                        <label class="form-check-label" for="emailNotifications">
                                                            电子邮件通知
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="notificationSettingsMessage" class="alert d-none" role="alert"></div>
                                    <div class="settings-form-actions">
                                        <button type="button" class="btn btn-outline-secondary me-2" id="testNotificationBtn">
                                            <i class="bi bi-bell me-2"></i>测试通知
                                        </button>
                                        <button type="submit" class="btn btn-primary btn-save">
                                            <span class="btn-text"><i class="bi bi-save me-2"></i>保存设置</span>
                                            <span class="btn-spinner d-none">
                                                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                保存中...
                                            </span>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- 高级选项 -->
                    <div class="tab-pane fade" id="advanced">
                        <div class="card mb-4 shadow-sm settings-content-card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <div class="d-flex align-items-center">
                                    <span class="settings-icon-bubble bg-danger text-white">
                                        <i class="bi bi-sliders"></i>
                                    </span>
                                    <h5 class="mb-0 ms-2">高级选项</h5>
                                </div>
                                <span class="advanced-warning"><i class="bi bi-exclamation-triangle-fill me-1"></i> 谨慎操作</span>
                            </div>
                            <div class="card-body">
                                <div class="advanced-warning-box mb-4">
                                    <i class="bi bi-exclamation-triangle-fill"></i>
                                    <div>这些设置可能会影响系统稳定性或导致数据丢失，请谨慎操作。</div>
                                </div>
                                
                                <form id="advancedSettingsForm">
                                    <div class="settings-section mb-4">
                                        <div class="section-title">
                                            <i class="bi bi-clock-history me-2"></i>会话设置
                                        </div>
                                        <div class="section-content">
                                            <div class="setting-item">
                                                <label class="form-label" for="sessionTimeout">会话超时时间（分钟）</label>
                                                <div class="setting-control">
                                                    <div class="slider-with-input">
                                                        <input type="range" class="form-range" min="5" max="120" step="5" id="sessionTimeoutRange" value="30">
                                                        <div class="input-group input-group-sm">
                                                            <input type="number" class="form-control text-center" id="sessionTimeout" value="30" min="5" max="120">
                                                            <span class="input-group-text">分钟</span>
                                                        </div>
                                                    </div>
                                                    <div class="setting-hint">设置多久无操作后自动退出登录</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="settings-section mb-4">
                                        <div class="section-title">
                                            <i class="bi bi-database me-2"></i>数据管理
                                        </div>
                                        <div class="section-content">
                                            <div class="setting-item">
                                                <label class="setting-label">数据缓存</label>
                                                <div class="setting-control">
                                                    <button type="button" class="btn btn-outline-secondary btn-action" id="clearCacheBtn">
                                                        <i class="bi bi-trash me-2"></i>清除本地缓存
                                                    </button>
                                                    <div class="setting-hint mt-2">删除浏览器中存储的临时数据，这可能需要重新登录</div>
                                                </div>
                                            </div>

                                            <div class="divider my-4"></div>

                                            <div class="setting-item">
                                                <label class="setting-label">设置导出</label>
                                                <div class="setting-control">
                                                    <button type="button" class="btn btn-outline-primary btn-action" id="exportSettingsBtn">
                                                        <i class="bi bi-download me-2"></i>导出设置
                                                    </button>
                                                    <div class="setting-hint mt-2">将当前设置导出为JSON文件以便备份或迁移</div>
                                                </div>
                                            </div>

                                            <div class="setting-item">
                                                <label class="setting-label">设置导入</label>
                                                <div class="setting-control">
                                                    <div class="custom-file-upload">
                                                        <div class="file-upload-btn">
                                                            <i class="bi bi-upload me-2"></i>
                                                            <span>选择文件</span>
                                                            <input type="file" class="file-input" id="importSettings" accept=".json">
                                                        </div>
                                                        <div class="file-name" id="settingsFileName">未选择文件</div>
                                                    </div>
                                                    <div class="setting-hint mt-2">导入之前导出的设置文件，将覆盖当前设置</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="settings-section mb-4">
                                        <div class="section-title text-danger">
                                            <i class="bi bi-exclamation-octagon-fill me-2"></i>重置选项
                                        </div>
                                        <div class="section-content">
                                            <div class="setting-item">
                                                <div class="setting-control">
                                                    <button type="button" class="btn btn-danger btn-action" id="resetSettingsBtn">
                                                        <i class="bi bi-arrow-counterclockwise me-2"></i>重置所有设置
                                                    </button>
                                                    <div class="setting-hint danger-hint mt-2">将所有设置恢复为系统默认值，此操作不可撤销</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="advancedSettingsMessage" class="alert d-none" role="alert"></div>
                                    <div class="settings-form-actions">
                                        <button type="submit" class="btn btn-primary btn-save">
                                            <span class="btn-text"><i class="bi bi-save me-2"></i>保存设置</span>
                                            <span class="btn-spinner d-none">
                                                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                保存中...
                                            </span>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 通知预览模态框 -->
<div class="modal fade" id="notificationPreviewModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">通知预览</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="notification-preview">
                    <div class="notification-item">
                        <div class="notification-icon bg-primary">
                            <i class="bi bi-bell"></i>
                        </div>
                        <div class="notification-content">
                            <div class="notification-title">测试通知</div>
                            <div class="notification-text">这是一条测试通知，用于预览通知样式。</div>
                            <div class="notification-time">刚刚</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭</button>
            </div>
        </div>
    </div>
</div>

<!-- 主题预览模态框 -->
<div class="modal fade" id="themePreviewModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">主题预览</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="theme-preview-container" id="themePreviewContainer">
                    <div class="theme-preview-header">
                        <div class="preview-navbar"></div>
                    </div>
                    <div class="theme-preview-body">
                        <div class="preview-sidebar"></div>
                        <div class="preview-content">
                            <div class="preview-card"></div>
                            <div class="preview-card"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">确定</button>
            </div>
        </div>
    </div>
</div>

<!-- 确认重置模态框 -->
<div class="modal fade" id="resetConfirmModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title text-danger">
                    <i class="bi bi-exclamation-triangle-fill me-2"></i>确认重置
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-danger">
                    <p><strong>警告：</strong>您即将重置所有设置为系统默认值。</p>
                    <p>此操作不可撤销，重置后需要重新配置您的偏好设置。</p>
                    <p class="mb-0">确定要继续吗？</p>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                <button type="button" class="btn btn-danger" id="confirmResetBtn">
                    <i class="bi bi-exclamation-octagon me-2"></i>确认重置
                </button>
            </div>
        </div>
    </div>
</div>

<!-- JavaScript files -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="/static/js/shared.js"></script>
<script src="/static/js/auth.js"></script>
<script src="/static/js/settings.js"></script>
</body>
</html>
